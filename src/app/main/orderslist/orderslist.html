<style>
            .active {
                border-bottom: 1px solid #808080;
                 font-weight: bold;
            }
        .dataTables_wrapper .top {
        padding: 0;
    }
            .w100p {
                width: 100%;
            }

            .pull-left {
                float: left;
            }

            .pull-right {
                float: right;
            }

            .left_col {
                width: 22%;
            }

                .left_col md-input-container {
                    display: block;
                    flex: 0 1 0;
                    float: left;
                    margin: 0;
                    max-width: 100%;
                    width: 100%;
                }

                    .left_col md-input-container .md-select-value {
                        min-height: 36px;
                    }

            .layout-row.w100p {
                display: block;
                width: 100%;
            }

            .left_col .md-button {
                border-radius: 0;
            }

            .left_col .active.md-button {
            }
            /*.left_col {
                text-align: right;
                width: 40%;
            }*/

            .dataTable01 td{word-break:break-all;white-space:normal;word-wrap:break-word;font-size:11px;}
            .result {
                background-color: #A3B400;
                color: #FFF;
                padding: 0px 7px;
                text-align: center;
                margin: 0 5px 0 0;
                float: left;
            }
            .resultf {
                background-color: #E61610;
                color: #FFF;
                padding: 0px 7px;
                text-align: center;
                margin: 0 5px 0 0;
                float: left;
            }

            .md-button.md-default-theme.md-ink-ripple {
            padding-top: 8px;
            text-align: center;
        }

            .center_table tr th:nth-child(1), .center_table tr th:nth-child(2), .center_table  tr th:nth-child(3),.center_table tr th:nth-child(4),.center_table tr th:nth-child(5){text-align:center;}
             .center_table tr th, .center_table tr td{text-align:center!important;}

            table.dataTable {
      border-spacing: 0;
      clear: both;
      margin: 0 auto;
      width: 100%;
    }
            table.dataTable.dtr-inline.collapsed.dtr-inline.collapsed > tbody > tr > td:first-child, table.dataTable.dtr-inline.collapsed.dtr-inline.collapsed > tbody > tr > th:first-child {
      padding-left: 23px;
    }
            .icon.icon-account-circle.s30 {
      vertical-align: middle;
    }

        table.dataTable.dtr-inline.collapsed > tbody > tr > td:first-child::before, table.dataTable.dtr-inline.collapsed > tbody > tr > th:first-child::before {
        display:none;}
            td > span {
        display: inline-block;
        line-height: 19px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        width: 68px;
    }
            td {
      width: 58px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
               .input-new {
        border: 1px solid #ddd !important;
        padding: 9px!important;
    }
                         .user_col{width: 38%;}
    .user_col .left_col {
        margin-left: 24px;
        width: 46%;
    }

          #tableservice td, #tableservice th {
        text-align: center;
    }
          .min_top_section > button:first-child {
        margin-right: 20px;
    }
           #tableservice_length select {
        border: 1px solid #ccc;
        border-radius: 5px;
        margin: 9px;
        padding: 6px;
    }
 
</style>
<div id="simple-table" class="page-layout simple fullwidth doc-page element-doc-page">
    <!-- CONTENT -->
    <div class="content">

        <div class="content layout-column">


            <div class="md-title pb-0 padding-left-10">
                Orders
            </div>




            <div class="widget-group" layout="row" flex="100" layout-wrap>

                <ms-widget flippable="false" layout="row" flex="100" flex-gt-md="100">

                    <!-- Front -->
                    <ms-widget-front class="white-bg">
                        <div class="ph-16 pv-30 border-bottom gray-bg">
                            <div layout="column" layout-gt-xs="row">
                                <div class="layout-row w100p min_top_section">
                                    <md-button class="md-raised md-accent new-order" aria-label="Cancel"
                                               ng-click="vm.createorder()">
                                        NEW ORDER
                                    </md-button>

                                    <div class="right_col pull-right new-order1">
                                        <md-button class="{{vm.activeclasslis}}" ng-click="vm.allactive()">Active</md-button>
                                        <md-button class="padding-left-5 {{vm.activeclasscom}}" ng-click="vm.completed()">Completed</md-button>
                                        <md-button class="padding-left-5 {{vm.activeclasshis}}" ng-click="vm.history()">History</md-button>
                                        <md-button class="padding-left-5 {{vm.activeclassfrz}}" ng-click="vm.frozen()">Frozen</md-button>
                                        <md-button class="padding-left-5 {{vm.activeclasstra}}" ng-click="vm.Trash()">Trash</md-button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="ph-16 pv-30 border-bottom gray-bg" layout="row" layout-align="space-between center">
                            <div layout="row" layout-align="start center" class="user_col">

                                <span class="text-boxed pink-bg white-fg">{{vm.filteredTodos.length}} Orders</span>
                                <div class="left_col">
                                    <md-input-container flex="30">
                                        <label>Actions</label>
                                        <md-select ng-model="">
                                            <md-option ng-if="vm.activetab" value="Active" ng-click="vm.change('Active')">Active</md-option>
                                            <md-option ng-if="vm.completetab" value="Completed" ng-click="vm.change('Complete')">Completed</md-option>
                                            <md-option ng-if="vm.historytab" value="History" ng-click="vm.change('History')">History</md-option>
                                            <md-option ng-if="vm.frozentab" value="Frozen" ng-click="vm.change('Frozen')">Frozen</md-option>
                                            <md-option ng-if="vm.trashtab" value="Trash" ng-click="vm.change('Trash')">Trash</md-option>
                                        </md-select>
                                    </md-input-container>
                                </div>
                            </div>
                            <div class="refresh_col">                               
                                <input type="text" ng-model="vm.search" placeholder="Client Order Search ..." class="input-new" />
                            </div>
                        </div>

                        <table class="dataTable dataTable01 row-border hover center_table" datatable="ng"
                               dt-options="vm.widget7.dtOptions" id="tableservice">
                            <thead>
                                <tr>
                                    <th class="secondary-text" style="text-align:left !important;">
                                        <div class="table-header">
                                            <input type='checkbox' value="" id="select_all" onclick="checkall();">
                                        </div>
                                    </th>
                                    <th class="secondary-text" style="text-align:left !important;">
                                        <div class="table-header">
                                            <span class="column-title ng-binding">Order#</span>
                                        </div>
                                    </th>
                                    <th class="secondary-text">
                                        <div class="table-header">
                                            <span class="column-title">Client Name</span>
                                        </div>
                                    </th>
                                    <th class="secondary-text">
                                        <div class="table-header">
                                            <span class="column-title">Items</span>
                                        </div>
                                    </th>
                                    <th class="secondary-text">
                                        <div class="table-header">
                                            <span class="column-title">Tasks</span>
                                        </div>
                                    </th>
                                    <th class="secondary-text">
                                        <div class="table-header">
                                            <span class="column-title">$</span>
                                        </div>
                                    </th>
                                    <th class="secondary-text">
                                        <div class="table-header">
                                            <span class="column-title">Payment</span>
                                        </div>
                                    </th>
                                    <th class="secondary-text">
                                        <div class="table-header">
                                            <span class="column-title">Order Date</span>
                                        </div>
                                    </th>
                                    <th class="secondary-text">
                                        <div class="table-header">
                                            <span class="column-title">Order Progress</span>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>

                                <tr ng-repeat="row in vm.filteredTodos | filter:vm.search">
                                    <td class="sorting_1" style="text-align:left !important;">
                                        <input type='checkbox' class="checkbox" value="{{row._id}}">
                                        <input type="hidden" id="selectedids" />

                                    </td>
                                    <td class="sorting_1 client-show-id" ng-click="vm.showallordersbyclientid(row._id,row.clientid,row.clientname)" style="text-align:left !important;">
                                        <span>
                                            {{row._id}}
                                        </span>
                                    </td>
                                    <td class="sorting_1 client-show-id" ng-click="vm.showallordersbyclientname(row.clientid)">

                                        <span class="bold" style="text-wrap:inherit;" title="{{row.clientname}}">
                                            <i class="icon icon-account-circle s20" style="float:left;"></i>{{row.clientname}}

                                        </span>

                                    </td>
                                    <td class="sorting_1">

                                        <span class="bold" style="text-wrap:inherit;">
                                            {{row.items.length}}

                                        </span>

                                    </td>
                                    <td class="sorting_1">
                                        <span class="bold" style="text-wrap:inherit;">
                                            {{vm.totaltasks(row.items)}}

                                        </span>

                                    </td>
                                    <td class="sorting_1">

                                        <span class="bold" style="text-wrap:inherit;">
                                            {{row.unit}}{{row.accountcredit}}

                                        </span>

                                    </td>
                                    <td class="sorting_1">
                                        <span class="bold" style="text-wrap:inherit;">
                                            {{row.paymentgateway}} <span ng-if="row.paymentcardtype">+</span> {{row.paymentcardtype}}
                                        </span>
                                      
                                    </td>
                                    <td class="sorting_1">

                                        <span class="bold" style="text-wrap:inherit;">
                                            {{row.orderdate | date:'M/d/yy hh:mm'}}
                                        </span>

                                    </td>
                                    <td class="sorting_1">
                                        <span class="bold progress-1" style="text-wrap:inherit;">
                                            <md-progress-linear class="md-warn md-warn01" md-mode="buffer" value="{{vm.getpercentage(row.items)}}"
                                                                md-buffer-value="{{vm.getpercentage(row.items)}}"></md-progress-linear>
                                            <span class="right-num right-num_bar">{{vm.getpercentage(row.items) | number:0}}%</span>
                                        </span>
                                    </td>

                                </tr>

                            </tbody>
                        </table>

                    </ms-widget-front>
                    <!-- / Front -->
                </ms-widget>
                <!-- / WIDGET 7 -->

            </div>

        </div>
    </div>
</div>
<script>

   
    function checkall() {
        
        var select_all = document.getElementById("select_all"); //select all checkbox
        var checkboxes = document.getElementsByClassName("checkbox"); //checkbox items

        //select all checkboxes
        select_all.addEventListener("change", function (e) {
            for (i = 0; i < checkboxes.length; i++) {
                checkboxes[i].checked = select_all.checked;
            }
        });


        for (var i = 0; i < checkboxes.length; i++) {
            checkboxes[i].addEventListener('change', function (e) { //".checkbox" change
                //uncheck "select all", if one of the listed checkbox item is unchecked
                if (this.checked == false) {
                    select_all.checked = false;

                }
                //check "select all" if all checkbox items are checked
                if (document.querySelectorAll('.checkbox:checked').length == checkboxes.length) {
                    select_all.checked = true;

                }
            });
        }

    }
    function addids() {
        
        var selectedValues = "";
        $('#tableservice').find('input[type="checkbox"]:checked').each(function () {
            selectedValues += "," + $(this).val();
        });

        //selectedValues = selectedValues.substring(1);
        $('#selectedids').val(selectedValues);

    }
</script>
<!-- / CONTENT -->
